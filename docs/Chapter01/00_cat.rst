查看文件内容
####################################

在 Linux 的世界里，一切皆文件，所以查看文件的内容是最常用的操作之一。根据目的针对性的运用查看命令会使工作更高效。

- cat 一次性输出文件所有内容
- more 分页显示文件内容
- less 和 more 类似，但其优点可以往前翻页
- head 只显示文件开始的几行
- tail 只显示文件结尾的几行


cat 命令
************************************

对于终端用户来说，cat 本身是一个串接命令，把指定一个或多个文件的内容，利用 ``>`` 符号重定向到目标文件中。如果不指定重定向文件，则默认在标准输出设备上显示，所以，可以利用 cat 命令来显示文件的内容。cat 会以连续滚动的方式显示文件内容，如果文件太大，只能看见满屏的字符滚动，看不清文件的内容，所以 cat 命令适合查看不满一屏的文件内容。

cat 最常用的选项示例：

.. highlight:: none

::

    # 查看文件
    [gavin:/home/]$ cat textfile.txt

    # 添加行号 -n 或 --number
    [gavin:/home/]$ cat -n textfile.txt

    # 清空 /etc/test.txt 文档内容：
    [gavin:/home/]$ cat /dev/null > /etc/test.txt


less 和 more
************************************

more 可以按页来查看文件的内容，还支持直接跳转行等功能。

常用操作命令：

===============     ===============
命令                 说明
===============     ===============
Enter                向下 n 行，需要定义。默认为 1 行
Ctrl+F               向下滚动一屏
空格键                向下滚动一屏
Ctrl+B               返回上一屏
=                    输出当前行的行号
:f                   输出文件名和当前行的行号
!命令                调用 Shell，并执行命令
q                    退出 more
===============     ===============

more 最常用的选项示例：

::

    # 从第 20 行开始查看文件内容
    [gavin:/home/]$ more +20 textfile.txt

    # 将文件内容分屏显示，每屏只显示 5 行
    [gavin:/home/]$ more -5 textfile.txt

    # 从文件中查找第一次出现"liu"字符的行，并从该字串前两行之后开始显示
    [gavin:/home/]$ more +/liu textfile.txt

    # 用 more 来分页显示其他命令标准输出的内容。这得和管道 | 结合起来
    [gavin:/home/]$ ls -l | more

less 工具也是对文件或其它输出进行分页显示的工具，功能极其强大。less 的用法比起 more 更加的有弹性。在 more 的时候，我们并没有办法向前面翻，只能往后面看，但若使用了 less 时，就可以使用 [pageup] [pagedown] 等按键的功能来往前往后翻看文件，可以更方便的查看文件内容；除此之外，在 less 里头可以拥有更多的搜索功能，不止可以向下搜，也可以向上搜。

常用操作命令：

===============     ===============
命令                 说明
===============     ===============
/字符串              向下搜索"字符串"的功能
?字符串              向上搜索"字符串"的功能
n                   重复前一个搜索（与 / 或 ? 有关）
N                   反向重复前一个搜索（与 / 或 ? 有关）
b                   向后翻一页
d                   向后翻半页
u                   向前滚动半页
y                   向前滚动一行
h                   显示帮助界面
Q                   退出 less 命令
空格键               滚动一页
回车键               滚动一行
[pagedown]          向下翻动一页
[pageup]            向上翻动一页
===============     ===============

less 最常用的选项示例：

::

    # 查看文件并显示行号
    [gavin:/home/]$ less -N textfile.txt

    # 强迫打开特殊文件，例如外围设备代号、目录和二进制文件
    [gavin:/home/]$ less -f textfile.txt

    #  当文件显示结束后，自动离开
    [gavin:/home/]$ less -e textfile.txt

附加备注

**全屏导航**

Ctrl+F   向前移动一屏
Ctrl+B   向后移动一屏
Ctrl+D   向前移动半屏
Ctrl+U   向后移动半屏

**单行导航**

j   向前移动一行
k   向后移动一行

**其它导航**

G   移动到最后一行
g   移动到第一行
q/ZZ   退出 less 命令

**其它有用的命令**

v   使用配置的编辑器编辑当前文件
h   显示 less 的帮助文档
&pattern   仅显示匹配模式的行，而不是整个文件

**标记导航**

当使用 less 查看大文件时，可以在任何一个位置作标记，可以通过命令导航到标有特定标记的文本位置：

ma   使用 a 标记文本的当前位置
'a   导航到标记 a 处


head 命令
************************************

head 命令会显示文件的开头到标准输出中。如果给定的文件多于一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。

head 最常用的选项示例：

::

    # 查看文件开头 10 行
    [gavin:/home/]$ head textfile.txt

    # 查看文件开头 5 行
    [gavin:/home/]$ head -n 5 textfile.txt

    # 查看文件除了最后 20 行的内容
    [gavin:/home/]$ head -n -20 textfile.txt


tail 命令
************************************

tail 命令用于查看文件的末尾内容。tail 命令默认在屏幕上显示文件的末尾 10 行。如果给定的文件多于一个，则在显示的每个文件前面加一个文件名标题。如果没有指定文件或者文件名为“-”，则读取标准输入。

注意：如果表示行数的 Number 值之前有一个“+”号，则从文件开头的第 Number 行开始显示，而不是显示文件的最后 Number 行。

tail 最常用的选项示例：

::

    # 查看文件末尾 10 行
    [gavin:/home/]$ tail textfile.txt

    # 查看文件末尾 15 行
    [gavin:/home/]$ tail -n 15 textfile.txt

    # 查看文件第 20 行之后的所有内容
    [gavin:/home/]$ tail -n +20 textfile.txt

    # 监视文件的尾部内容（默认 10 行），随时更新显示
    # 该选项适用于查阅正在改变的日志文件
    [gavin:/home/]$ tail -f textfile.txt
