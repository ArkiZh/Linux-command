pipe 管道
####################################

``|`` 是管道命令操作符，简称管道符。管道是 Linux 中很重要的一种通信方式，是把一个程序的输出直接连接到另一个程序的输入，连续使用管道依此类推。大部分的 Linux 命令都可以用来管道链接。

Linux 管道的具体语法格式如下：

.. highlight:: none

::

    command1 | command2
    command1 | command2 [ | commandN... ]


需要注意几点：

- 管道仅能处理前面一个命令传出的正确输出信息，也就是标准输出（stdout）信息，对于标准错误输出（stderr）信息没有直接处理能力。

- 从管道读数据是一次性操作，数据一旦被读，它就从管道中被抛弃，释放空间。

- 从本质上说，管道也是一种文件，它的实现并没有使用专门的数据结构，而是借助了文件系统的 file 结构和 VFS 的索引节点（inode）。通过将两个 file 结构指向同一个临时的 VFS 索引节点，而这个 VFS 索引节点又指向一个物理页面而实现的。

.. note::

    常说的管道是指匿名管道，匿名管道只能用于具有亲缘关系的进程之间，这是它与命名管道的最大区别。
    命名管道叫 named pipe 或者 FIFO（先进先出），可以用函数 mkfifo() 创建。


常用的管道方法
************************************

::

    # 搜索历史命令
    [root@xiao ~]# history | grep ls

    # 分页显示文件信息
    [root@xiao ~]# cat /etc/passwd | less
